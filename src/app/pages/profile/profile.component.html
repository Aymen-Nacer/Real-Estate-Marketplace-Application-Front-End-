<!-- and -->
<div class="min-h-screen bg-gray-100 flex flex-col justify-center">
  <div
    class="container mx-auto bg-white max-w-lg rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition duration-300 mb-10 mt-10"
  >
    <div class="p-3 max-w-lg mx-auto">
      <h1 class="text-3xl font-semibold text-center my-7">Profile</h1>
      <form
        #updateForm="ngForm"
        (ngSubmit)="onProfileUpdate(updateForm)"
        class="flex flex-col gap-4"
      >
        <img
          src="https://picsum.photos/200/300"
          alt="profile"
          class="rounded-full h-24 w-24 object-cover cursor-pointer self-center mt-2 mb-7"
        />
        <input
          type="text"
          placeholder="Username"
          [(ngModel)]="username"
          name="username"
          class="border p-3 rounded-lg"
        />

        <input
          type="password"
          placeholder="Password"
          [(ngModel)]="password"
          name="password"
          class="border p-3 rounded-lg"
        />
        <button
          type="submit"
          class="bg-slate-700 text-white rounded-lg p-3 uppercase hover:opacity-95 disabled:opacity-80"
        >
          Update Profile
        </button>
      </form>
      <div class="flex justify-between mt-5">
        <span (click)="onDeleteAccount()" class="text-red-700 cursor-pointer">
          Delete account
        </span>
        <span class="text-red-700 cursor-pointer" (click)="onSignout()">
          Sign out
        </span>
      </div>
    </div>

    <button (click)="onShowListings()" class="text-green-700 w-full mt-5 mb-10">
      Show Listings
    </button>
  </div>

  <ng-container
    *ngIf="
      showlistings && (userListings === undefined || userListings.length === 0)
    "
  >
    <h1>You have no listings</h1>
  </ng-container>
  <ng-container *ngIf="showlistings && userListings && userListings.length > 0">
    <div
      class="container mx-auto bg-white max-w-lg rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition duration-300 mb-10"
    >
      <div class="flex flex-col gap-4">
        <h1 class="text-center mt-7 text-2xl font-semibold">Your Listings</h1>
        <div
          *ngFor="let listing of userListings"
          class="border rounded-lg p-3 flex justify-between items-center gap-4 mb-10"
        >
          <a
            [routerLink]="
              listing.id !== undefined ? '/propertyDetails/' + listing.id : null
            "
          >
            <img
              [src]="listing.imageUrls[0]"
              alt="listing cover"
              class="h-16 w-16 object-contain"
            />
          </a>
          <a
            class="text-slate-700 font-semibold hover:underline truncate flex-1"
            [routerLink]="
              listing.id !== undefined ? '/propertyDetails/' + listing.id : null
            "
          >
            <p>{{ listing.name }}</p>
          </a>

          <div class="flex flex-col item-center">
            <button
              (click)="
                listing.id !== undefined ? onListingDelete(listing.id) : null
              "
              class="text-red-700 uppercase"
            >
              Delete
            </button>

            <a
              [routerLink]="
                listing.id !== undefined
                  ? '/update-property/' + listing.id
                  : null
              "
            >
              <button class="text-green-700 uppercase">Edit</button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>
